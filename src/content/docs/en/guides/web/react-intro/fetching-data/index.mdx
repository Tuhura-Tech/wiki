---
title: Fetching Data & APIs
description: Learn how to fetch data from APIs and display it in your React components.
sidebar:
  order: 7.5

---

Want your app to show real data from the internet? Maybe weather info, game stats, or cool facts? That's what APIs are for! Let's learn how to fetch data and show it in your components.

## What's an API?

An API (Application Programming Interface) is like a waiter at a restaurant. You ask for something (make a request), and it brings you data (the response). APIs let your app talk to other services!

## Fetching data with useEffect

Use `useEffect` to fetch data when your component appears:

```jsx
import { useState, useEffect } from 'react'

function RandomFact() {
  const [fact, setFact] = useState('')
  const [loading, setLoading] = useState(true)
  
  useEffect(() => {
    fetch('https://uselessfacts.jsph.pl/random.json?language=en')
      .then(response => response.json())
      .then(data => {
        setFact(data.text)
        setLoading(false)
      })
  }, [])
  
  if (loading) return <p>Loading fun fact...</p>
  
  return <p>{fact}</p>
}
```

**Output (loading):**

<p>Loading fun fact...</p>

**Output (after data loads):**

<p>The average person spends 6 months of their lifetime waiting for red lights to turn green.</p>

## Handling errors

Always plan for things going wrong:

```jsx
function SafeFetch() {
  const [data, setData] = useState(null)
  const [loading, setLoading] = useState(true)
  const [error, setError] = useState(null)
  
  useEffect(() => {
    fetch('https://api.example.com/data')
      .then(response => {
        if (!response.ok) throw new Error('Failed to fetch')
        return response.json()
      })
      .then(data => {
        setData(data)
        setLoading(false)
      })
      .catch(err => {
        setError(err.message)
        setLoading(false)
      })
  }, [])
  
  if (loading) return <p>Loading...</p>
  if (error) return <p>Error: {error}</p>
  
  return <p>Data loaded!</p>
}
```

## Fetching with async/await

A cleaner way to write fetch code:

```jsx
function UserProfile({ userId }) {
  const [user, setUser] = useState(null)
  
  useEffect(() => {
    async function fetchUser() {
      const response = await fetch(`https://api.example.com/users/${userId}`)
      const data = await response.json()
      setUser(data)
    }
    
    fetchUser()
  }, [userId])
  
  if (!user) return <p>Loading...</p>
  
  return (
    <div>
      <h2>{user.name}</h2>
      <p>{user.email}</p>
    </div>
  )
}
```

## Fetching on button click

Sometimes you want to fetch data when the user does something:

```jsx
function JokeGenerator() {
  const [joke, setJoke] = useState('')
  const [loading, setLoading] = useState(false)
  
  const fetchJoke = async () => {
    setLoading(true)
    const response = await fetch('https://official-joke-api.appspot.com/random_joke')
    const data = await response.json()
    setJoke(`${data.setup} - ${data.punchline}`)
    setLoading(false)
  }
  
  return (
    <div>
      <button onClick={fetchJoke}>Get a joke!</button>
      {loading && <p>Loading joke...</p>}
      {joke && <p>{joke}</p>}
    </div>
  )
}
```

**Output (before click):**

<div>
  <button>Get a joke!</button>
</div>

**Output (after clicking):**

<div>
  <button>Get a joke!</button>
  <p>Why don't scientists trust atoms? - Because they make up everything!</p>
</div>

## Displaying lists from an API

Fetch and display multiple items:

```jsx
function TodoList() {
  const [todos, setTodos] = useState([])
  
  useEffect(() => {
    fetch('https://jsonplaceholder.typicode.com/todos?_limit=5')
      .then(res => res.json())
      .then(data => setTodos(data))
  }, [])
  
  return (
    <ul>
      {todos.map(todo => (
        <li key={todo.id}>
          {todo.completed ? '✓' : '○'} {todo.title}
        </li>
      ))}
    </ul>
  )
}
```

**Output:**

<ul>
  <li>✓ Buy groceries</li>
  <li>○ Learn React</li>
  <li>✓ Walk the dog</li>
  <li>○ Read a book</li>
  <li>✓ Practice coding</li>
</ul>

## Posting data to an API

Send data to a server with POST:

```jsx
function CreatePost() {
  const [title, setTitle] = useState('')
  const [message, setMessage] = useState('')
  
  const handleSubmit = async (e) => {
    e.preventDefault()
    
    const response = await fetch('https://api.example.com/posts', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ title, content: 'Hello world' })
    })
    
    if (response.ok) {
      setMessage('Posted successfully!')
    }
  }
  
  return (
    <form onSubmit={handleSubmit}>
      <input value={title} onChange={e => setTitle(e.target.value)} />
      <button type="submit">Post</button>
      {message && <p>{message}</p>}
    </form>
  )
}
```

## Free APIs to practice with

Here are some fun, free APIs you can try:

- **JSONPlaceholder** - Fake data for testing (`jsonplaceholder.typicode.com`)
- **OpenWeather** - Weather data (needs free API key)
- **PokeAPI** - Pokemon data (`pokeapi.co`)
- **Dog API** - Random dog pictures (`dog.ceo/api`)
- **Dad Jokes** - Random dad jokes (`icanhazdadjoke.com`)

:::tip[CORS errors]
If you see CORS errors, it means the API doesn't allow requests from web browsers. Try a different API or use a proxy service!
:::

:::note[Build something cool!]
Pick a free API (like Dog API or Dad Jokes) and create a component that fetches and displays data. Add a button to fetch new data each time. Show a loading message while fetching. Have fun with it!
:::
